/* -------------------------
   base / existing rules (keep your app styles above or merge)
   ------------------------- */
* { margin:0; padding:0; box-sizing:border-box; font-family: "Roboto", Arial, sans-serif; }
body { color: white; height: 100vh; display: flex; background: linear-gradient(45deg, #6b48ff, #6b48ff22); transition: background-color 1s ease-in-out; }
.main-content { flex-grow:1; display:flex; flex-direction:column; height:100%; }

/* -------------------------
   layout for reels + comments panel
   ------------------------- */
.reels-container {
  position: relative;
  width: 100%;
  height: 100vh;
  display: flex;
  align-items: stretch;
  justify-content: center;
  overflow: hidden;
}

/* wrapper that will move left when comments open */
.reels-wrap {
  transition: transform .36s cubic-bezier(.2,.9,.2,1);
  will-change: transform;
  z-index: 2;
}

/* keep your reels-feed width; it will shift left */
.reels-feed {
  width: 400px;
  height: 100%;
  overflow-y: scroll;
  scroll-snap-type: y mandatory;
  position: relative;
  border-radius: 10px;
  border: 2px solid white;
  background-color: black;
  box-shadow: 0 12px 40px rgba(0,0,0,0.45);
}

/* hide default scroll in Webkit */
.reels-feed::-webkit-scrollbar { display: none; }

.reel-video { height: 100vh; scroll-snap-align: start; position: relative; display:flex; flex-direction:column; justify-content:flex-end; }
.reel-video video { position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover; z-index:1; }

/* video controls tweaks (kept) */
video { object-fit: cover; width:100%; height:100%; }
.mute-toggle { position:absolute; bottom:20px; right:20px; z-index:100; background: rgba(0,0,0,0.5); border-radius:50%; padding:8px; cursor:pointer; }

/* video-info and actions (kept) */
.video-info { padding: 20px; position: relative; z-index: 2; }
.video-title { font-weight:bold; margin-bottom:8px; font-size:16px; }
.video-channel { display:flex; align-items:center; margin-bottom:12px; }
.channel-avatar { width:32px; height:32px; border-radius:50%; margin-right:12px; background-color:#555; }

/* action buttons stack */
.video-actions { display:flex; flex-direction:column; position:absolute; right:20px; bottom:120px; z-index:2; align-items:center; }
.action-button { display:flex; flex-direction:column; align-items:center; margin-bottom:24px; cursor:pointer; }
.action-icon { width:40px; height:40px; background-color: rgba(255,255,255,0.1); border-radius:50%; display:flex; align-items:center; justify-content:center; margin-bottom:4px; }
.action-count { font-size:12px; }

/* nav arrows */
.reels-nav { position:absolute; top:50%; transform:translateY(-40%); width:60%; display:flex; justify-content:space-between; padding:0 20px; z-index:3; pointer-events:none; }
.nav-arrow { width:48px; height:48px; background-color:black; border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; pointer-events:auto; }

/* -------------------------
   comments panel (right) styles
   ------------------------- */
.comments-panel {
  position: absolute;
  top: 0;
  right: 0;
  width: 620px;
  height: 100vh;
  background: linear-gradient(180deg, rgba(20,20,25,0.98), rgba(13,13,18,0.99));
  border-left: 1px solid rgba(255,255,255,0.04);
  box-shadow: -24px 0 70px rgba(0,0,0,0.6);
  transform: translateX(100%); /* hidden by default (off-screen) */
  transition: transform .36s cubic-bezier(.2,.9,.2,1);
  z-index: 4;
  display:flex;
  flex-direction: column;
  padding: 18px;
  gap: 12px;
  will-change: transform, opacity;
  opacity: 0;
}

/* open state controlled by JS toggling class on .reels-container */
.reels-container.comments-open .reels-wrap { transform: translateX(-420px); }
.reels-container.comments-open .comments-panel { transform: translateX(0%); opacity: 1; }

/* small top bar for close + title */
.comments-top {
  display:flex;
  align-items:center;
  gap:12px;
  padding-bottom:6px;
  border-bottom: 1px solid rgba(255,255,255,0.03);
}
.close-comments {
  background: transparent;
  border: none;
  color: var(--text, #eaf0ff);
  font-size: 18px;
  cursor: pointer;
  padding:6px 8px;
  border-radius:8px;
}
.close-comments:hover { background: rgba(255,255,255,0.02); }

/* title + count */
#comments-title { font-size: 1rem; font-weight:700; color: #fff; }
.comments-count-small { margin-left:auto; color: rgba(255,255,255,0.6); font-weight:700; }

/* comments list scroll area */
.comments-list {
  flex:1;
  overflow:auto;
  display:flex;
  flex-direction:column;
  gap:10px;
  padding: 8px 2px;
}

/* single comment render */
.comment-item {
  display:flex;
  gap:10px;
  align-items:flex-start;
  background: linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.007));
  padding:10px;
  border-radius:10px;
  border: 1px solid rgba(255,255,255,0.02);
}
.comment-item .avatar {
  width:40px;
  height:40px;
  border-radius:50%;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
}
.comment-main { flex:1; display:flex; flex-direction:column; gap:6px; }
.comment-author { font-weight:700; color: #fff; font-size:.95rem; }
.comment-text { color: rgba(255,255,255,0.75); font-size:.92rem; line-height:1.3; white-space:pre-wrap; }
.comment-time { font-size: .78rem; color: rgba(255,255,255,0.45); }

/* comment form sticky bottom */
.comment-form {
  display:flex;
  gap:10px;
  align-items:flex-end;
  margin-top:6px;
  margin-right: 150px;
}
#comment-text {
  flex:1;
  min-height:48px;
  max-height:120px;
  resize:none;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.04);
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
  color: #fff;
  outline:none;
  transition: box-shadow .12s, transform .12s;
}
#comment-text:focus { box-shadow: 0 8px 30px rgba(124,92,255,0.12); transform: translateY(-2px); }
.comment-post-btn {
  background: linear-gradient(135deg, #7c5cff, #00e0b8);
  color: #fff;
  border: none;
  padding: 10px 14px;
  border-radius: 10px;
  cursor: pointer;
  font-weight:700;
}

/* backdrop when panel open to allow clicking outside to close */
.comments-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.28);
  opacity: 0;
  pointer-events:none;
  transition: opacity .3s;
  z-index: 3;
}
.reels-container.comments-open .comments-backdrop { opacity:1; pointer-events:auto; }

/* responsive: on small screens, comments become full-screen overlay */
@media (max-width: 780px) {
  .reels-container.comments-open .reels-wrap { transform: translateX(-100%); }
  .comments-panel { width:100%; right:0; transform: translateX(100%); }
  .reels-container.comments-open .comments-panel { transform: translateX(0); opacity:1; }
  .reels-feed { width:100%; border-radius:0; border-width:0; }
  .reels-wrap { width:100%; }
}

/* keep your like-button creative styles - copy/paste the earlier liked styles here */
:root{
  --danger: #ff3860;
  --text: #e9eefb;
}
.like-button { display:inline-grid; justify-items:center; align-items:center; gap:6px; cursor:pointer; transition: transform .12s; }
.like-button .action-icon { width:44px;height:44px; display:flex; align-items:center; justify-content:center; border-radius:12px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.03); transition: transform .18s; }
.like-button .action-icon svg { fill: rgba(255,255,255,0.92); transition: transform .18s; }
.like-count { font-size:.85rem; color: rgba(233,238,251,0.6); transition: color .12s; }
.like-button.liked .action-icon { transform: translateY(-6px) scale(1.05); box-shadow: 0 18px 40px rgba(124,92,255,0.12); border:1px solid rgba(124,92,255,0.14); }
.like-button.liked .action-icon svg { fill: var(--danger) !important; transform: scale(1.03); filter: drop-shadow(0 6px 16px rgba(255,56,96,0.18)); }
.like-button.liked .like-count { color: var(--danger); font-weight:800; transform: translateY(-2px); }
